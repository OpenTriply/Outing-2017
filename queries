# create WKT literals from lat/lng
http://yasgui.org/#query=PREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0APREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+geoCoor%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2003%2F01%2Fgeo%2Fwgs84_pos%23%3E%0APREFIX+geo%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0A%0AINSERT++%7B%0A++GRAPH+%3Chttp%3A%2F%2Fouting%3E+%7B%0A++++%3Fs+geo%3AhasGeometry+%5B%0A++++++geo%3AasWkt+%3Fwkt%0A++++%5D%0A++%7D+%09%0A%7D+WHERE+%7B%0A++%3Fs+geoCoor%3Alat+%3Fy%3B%0A+++++geoCoor%3Along+%3Fx.%0ABIND(strdt(CONCAT(%22POINT(%22%2C+%3Fx%2C+%22+%22+%2C+%3Fy%2C+%22)%22)%2C+geo%3AwktLiteral)+AS+%3Fwkt)%0A++%0A%7D+&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fvirtuoso.lod.labs.vu.nl%2Fsparql&requestMethod=POST&tabTitle=Insert+wkt+literal&headers=%7B%7D&defaultGraph=http%3A%2F%2Fouting&outputFormat=table
#get polling stations on map
http://yasgui.org/#query=PREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0APREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+geo%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0ASELECT+*+WHERE+%7B%0A++%3Fsub+geo%3AasWkt+%3Fwkt%0A%7D+%0ALIMIT+100&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fvirtuoso.lod.labs.vu.nl%2Fsparql&requestMethod=POST&tabTitle=Query+4&headers=%7B%7D&outputFormat=leaflet
#num polling stations
http://yasgui.org/#query=PREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0APREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+geo%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0A%0ASELECT+(COUNT(%3Fx)+as+%3Ftotal)+++WHERE+%7B%0A++%3Fx+a+%3Chttp%3A%2F%2Fdata.pdok.nl%2Flinkhub%2Fdef%23Stembureau%3E%0A%7D+%0ALIMIT+100&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fvirtuoso.lod.labs.vu.nl%2Fsparql&requestMethod=POST&tabTitle=Query+4&headers=%7B%7D&defaultGraph=http%3A%2F%2Fouting&outputFormat=leaflet



#pvv votes ranked by number of non-western pop
http://yasgui.org/#query=PREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0APREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+geo%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aprefix+bag%3A+%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23%3E%0APREFIX+geof%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Fdef%2Ffunction%2Fgeosparql%2F%3E%0APREFIX+owl%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2002%2F07%2Fowl%23%3E%0Aprefix+tst%3A+%3Chttps%3A%2F%2Ftriply.cc%2Ftypes%2F%3E+%0Aprefix+tsp%3A+%3Chttps%3A%2F%2Ftriply.cc%2Fproperties%2F%3E+%0Aprefix+tdp%3A+%3Chttps%3A%2F%2Ftriply.cc%2Fpoliticalparties%2F%3E+%0Aprefix+tde%3A+%3Chttps%3A%2F%2Ftriply.cc%2Felections%2F%3E+%0Aprefix+tded12%3A+%3Chttps%3A%2F%2Ftriply.cc%2Felections%2Ftk2012data%3E+%0Aprefix+tded17%3A+%3Chttps%3A%2F%2Ftriply.cc%2Felections%2Ftk2017data%3E+%0APREFIX+cbs%3A+%3Chttps%3A%2F%2Fcbs.nl%2Fdef%2F%3E%0APREFIX+xsd%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema%23%3E%0ASELECT+DISTINCT+%3Fcbs+%3FgemeenteNaam+%3Fratio+%3Fwkt+%3FwktLabel+WHERE+%7B%0A%23SELECT+DISTINCT+%3Fcbs+%3FgemeenteNaam+%3Fratio++%3FwktLabel+WHERE+%7B%0A++%0A%23++%3Fx+a+%3Chttp%3A%2F%2Fdata.pdok.nl%2Flinkhub%2Fdef%23Stembureau%3E+%3B%0A%23+++++%3Chttps%3A%2F%2Ftriply.cc%2Fvocab%2FbagMunicipality%3E+%3Fbag.%0A%23++%3Fbag+owl%3AsameAs+%3Fcbs+.%0A++%3Fcbs+%3Chttps%3A%2F%2Fcbs.nl%2Fdef%2FgemeenteCode%3E+%3F_gemCode+.%0A++%3Chttps%3A%2F%2Fcbs.nl%2Fid%2Fgemeente%2FGM1681%3E+%3Chttps%3A%2F%2Fcbs.nl%2Fdef%2FgemeenteCode%3E+%3F_gemCode+.%0A++FILTER(contains(str(%3Fcbs)%2C+%22id%2Fgemeente%2F%22))%0A++%3Fcbs+cbs%3AgemeenteNaam+%3FgemeenteNaam+.%0A++BIND(IRI(CONCAT(%22https%3A%2F%2Ftriply.cc%2Felections%2Ftk2017data%22%2C+substr(%3F_gemCode%2C+2)))+AS+%3FelectResult)%0A++%3FelectResult+tsp%3ApartyResult+%3FpartyResult+.%0A++%3FpartyResult+tsp%3AresultOf+tdp%3APVV+%3B%0A+++++++++++++++tsp%3Apercentage+%3FpercentageVotes+.%0A++%0A++%3Fcbs+cbs%3AnietWesterseAllochtoon+%3Fall%3B%0A+++++++cbs%3Ainwoners+%3Finwoners.%0A++BIND(xsd%3Adouble(%3Fall)+%2F+xsd%3Adouble(%3Finwoners)+AS+%3FratioAllochtoon)%0A++BIND(xsd%3Adouble(%3FpercentageVotes)+%2F+%3FratioAllochtoon+as+%3Fratio)%0A++%0A++%0A++%3Fbag+owl%3AsameAs+%3Fcbs+.%0A++%3Fbag+geo%3AhasGeometry%2Fgeo%3AasWKT+%3Fwkt+.%0A++bind+(concat(%22%3Ch1%3E%22%2Cstr(%3FgemeenteNaam)%2C%22%3C%2Fh1%3E%3Cp%3EPVV+votes%3A+%22%2Cstr(%3FpercentageVotes)%2C%22%3C%2Fp%3E%3Cp%3EAllochtoon%3A+%22%2Cstr(%3FratioAllochtoon)%2C%22%3C%2Fp%3E%3Cp%3EInwoners%3A+%22%2Cstr(%3Finwoners)%2C%22%3C%2Fp%3E%22)+as+%3FwktLabel)%0A%7D+ORDER+BY+DESC(%3Fratio)%0ALIMIT+50&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fvirtuoso.lod.labs.vu.nl%2Fsparql&requestMethod=POST&tabTitle=PVV+votes+ranked&headers=%7B%7D&outputFormat=table


#curl request to get BAG gemeente shapes
curl https://data.pdok.nl/sparql -X POST --data 'query=PREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0APREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+geo%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0APREFIX+bag%3A+%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23%3E%0APREFIX+geof%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Fdef%2Ffunction%2Fgeosparql%2F%3E%0A%0A%0ACONSTRUCT+WHERE+%7B%0A++%3Fx+rdf%3Atype+%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23Woonplaats%3E+.%0A++%3Fx+geo%3AhasGeometry+%3Fy.%0A++%3Fy+geo%3AasWKT+%3Fshape.%0A++%0A++%0A%7D%0A' -H 'Accept: text/turtle'
curl https://data.pdok.nl/sparql -X POST --data 'query=PREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0APREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+geo%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0APREFIX+bag%3A+%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23%3E%0APREFIX+geof%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Fdef%2Ffunction%2Fgeosparql%2F%3E%0A%0A%0ACONSTRUCT+%7B%0A++%3Fx+rdf%3Atype+%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23Woonplaats%3E+.%0A++%3Fx+geo%3AhasGeometry+%3Fy.%0A++%3Fy+geo%3AasWKT+%3Fshape.%0A%7D+WHERE+%7B%0A++%3Fx+rdf%3Atype+%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23Woonplaats%3E+.%0A++FILTER+NOT+EXISTS+%7B%3Fx+bag%3Astatus+%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fid%2Fbegrip%2FWoonplaatsIngetrokken%3E%7D%0A++%3Fx+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23isDefinedBy%3E+%3Fh.%0A++%3Fh+%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23aanduidingInactief%3E+%3Fn%0A++FILTER(%3Fn+!%3D+%22true%22%5E%5Exsd%3Aboolean)%0A++%3Fx+geo%3AhasGeometry+%3Fy.%0A++%3Fy+geo%3AasWKT+%3Fshape.%0A%0A++%0A%7D+LIMIT+100%0A' -H 'Accept: text/turtle'

#number of won municipalities per party
http://yasgui.org/#query=PREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0APREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX+geo%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aprefix+bag%3A+%3Chttp%3A%2F%2Fbag.basisregistraties.overheid.nl%2Fdef%2Fbag%23%3E%0APREFIX+geof%3A+%3Chttp%3A%2F%2Fwww.opengis.net%2Fdef%2Ffunction%2Fgeosparql%2F%3E%0APREFIX+owl%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2002%2F07%2Fowl%23%3E%0Aprefix+tst%3A+%3Chttps%3A%2F%2Ftriply.cc%2Ftypes%2F%3E+%0Aprefix+tsp%3A+%3Chttps%3A%2F%2Ftriply.cc%2Fproperties%2F%3E+%0Aprefix+tdp%3A+%3Chttps%3A%2F%2Ftriply.cc%2Fpoliticalparties%2F%3E+%0Aprefix+tde%3A+%3Chttps%3A%2F%2Ftriply.cc%2Felections%2F%3E+%0Aprefix+tded12%3A+%3Chttps%3A%2F%2Ftriply.cc%2Felections%2Ftk2012data%3E+%0Aprefix+tded17%3A+%3Chttps%3A%2F%2Ftriply.cc%2Felections%2Ftk2017data%3E+%0APREFIX+cbs%3A+%3Chttps%3A%2F%2Fcbs.nl%2Fdef%2F%3E%0APREFIX+xsd%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema%23%3E%0A%0ASELECT+DISTINCT+%3Fwinner+(COUNT(%3FelectResult)+as+%3Fgemeentes)+WHERE+%7B%0A++%3FelectResult++tsp%3AlocalWinner+%3Fwinner+.%0A%7D+&contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bjson&endpoint=https%3A%2F%2Fvirtuoso.lod.labs.vu.nl%2Fsparql&requestMethod=POST&tabTitle=all+parties&headers=%7B%7D&outputFormat=gchart&outputSettings=%7B%22chartConfig%22%3A%7B%22options%22%3A%7B%22hAxis%22%3A%7B%22useFormatFromData%22%3Atrue%2C%22viewWindow%22%3Anull%2C%22minValue%22%3Anull%2C%22maxValue%22%3Anull%2C%22viewWindowMode%22%3Anull%7D%2C%22legacyScatterChartLabels%22%3Atrue%2C%22vAxes%22%3A%5B%7B%22useFormatFromData%22%3Atrue%2C%22viewWindow%22%3A%7B%22max%22%3Anull%2C%22min%22%3Anull%7D%2C%22minValue%22%3Anull%2C%22maxValue%22%3Anull%7D%2C%7B%22useFormatFromData%22%3Atrue%2C%22viewWindow%22%3A%7B%22max%22%3Anull%2C%22min%22%3Anull%7D%2C%22minValue%22%3Anull%2C%22maxValue%22%3Anull%7D%5D%2C%22isStacked%22%3Afalse%2C%22booleanRole%22%3A%22certainty%22%2C%22legend%22%3A%22right%22%2C%22width%22%3A1824%2C%22height%22%3A600%7D%2C%22state%22%3A%7B%7D%2C%22view%22%3A%7B%22columns%22%3Anull%2C%22rows%22%3Anull%7D%2C%22isDefaultVisualization%22%3Afalse%2C%22chartType%22%3A%22ColumnChart%22%2C%22containerId%22%3A%22yasq_ck504ycq0o8abg25ipb9_gchartWrapper%22%7D%2C%22motionChartState%22%3Anull%7D
